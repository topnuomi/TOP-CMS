<script>
    var editor_{$name};
    KindEditor.ready(function(K) {
        editor_{$name} = K.create('textarea[name="{$name}"]', {
            cssPath : '/Resource/kindeditor/plugins/code/prettify.css',
            uploadJson : "{:u('Addons/Home/Editor/Index/upload')}",
            fileManagerJson : "{:u('Addons/Home/Editor/Index/manage')}",
            allowFileManager : true,
            afterCreate : function() {
            },
            afterBlur: function(){  //利用该方法处理当富文本编辑框失焦之后，立即同步数据
                K.sync('textarea[name="{$name}"]') ;
            }
        });
        prettyPrint();
    });
</script>
<textarea name="{$name}" style="width:{$config['options']['width']}px;height:{$config['options']['height']}px;visibility:hidden;">{$content}</textarea>